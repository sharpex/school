"use strict";(self.webpackChunkschooltechsystem=self.webpackChunkschooltechsystem||[]).push([[518],{7518:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(4165),a=t(5861),s=t(2791),i=t(9434),c=t(9439),o=t(5509),l=t(3027),u=t(3360),h=t(7689),d=t(5420),v=t(2007),m=t.n(v),f=["color","size","title"];function p(){return p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},p.apply(this,arguments)}function x(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var j=(0,s.forwardRef)((function(e,n){var t=e.color,r=e.size,a=e.title,i=x(e,f);return s.createElement("svg",p({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:t},i),a?s.createElement("title",null,a):null,s.createElement("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Z"}),s.createElement("path",{d:"M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6.5a.5.5 0 0 1-1 0V1H3v14h3v-2.5a.5.5 0 0 1 .5-.5H8v4H3a1 1 0 0 1-1-1V1Z"}),s.createElement("path",{d:"M4.5 2a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm-6 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm-6 3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm3 0a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z"}))}));j.propTypes={color:m().string,size:m().oneOfType([m().string,m().number]),title:m().string},j.defaultProps={color:"currentColor",size:"1em",title:null};var g=j,y=t(184),b=function(){var e=(0,s.useState)(!1),n=(0,c.Z)(e,2),t=n[0],v=n[1],m=(0,s.useState)(""),f=(0,c.Z)(m,2),p=f[0],x=f[1],j=(0,s.useState)(""),b=(0,c.Z)(j,2),Z=b[0],N=b[1],k=((0,i.v9)((function(e){return e.online.online})),(0,i.v9)((function(e){return e.auth.user}))),w=(0,s.useState)(!1),I=(0,c.Z)(w,2),O=I[0],S=I[1],C=(0,i.I0)(),H=(0,h.s0)(),T=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),S(!0),t="higher"==Z?1:0,a="".concat(parseInt(Date.now()/1e3)),s="".concat(Date.now()),e.next=7,(0,d.jB)({name:p,linker:s,motto:"",email:k.email,trace:s,deleted:0,sub:0,higher:t,live:1,clientId:a,userLinker:k.linker},k,C);case 7:S(!1),v(!1),H("/".concat(p)),x(""),N("");case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{className:"col-6 col-md-4 col-lg-3",children:[(0,y.jsxs)("div",{className:"dashboard py-2",onClick:function(){return v(!0)},children:[(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,y.jsx)(g,{className:"dash-icon"})}),(0,y.jsx)("p",{className:"text-center dash-text",children:"Register New Institution"})]}),(0,y.jsxs)(o.Z,{show:t,onHide:function(){return v(!1)},backdrop:"static",centered:!0,children:[(0,y.jsx)(o.Z.Header,{closeButton:!0,children:(0,y.jsx)(o.Z.Title,{children:"Register New Institution"})}),(0,y.jsx)(o.Z.Body,{children:(0,y.jsxs)(l.Z,{onSubmit:T,children:[(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{className:"mb-2",children:"Institution Name:"}),(0,y.jsx)("input",{className:"rounded form-control",placeholder:"Institution Name",value:p,onChange:function(e){return x(e.target.value)},required:!0}),(0,y.jsx)("hr",{})]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{className:"mb-2",children:"Institution Type:"}),(0,y.jsxs)("select",{value:Z,onChange:function(e){return N(e.target.value)},className:"form-control rounded",required:!0,children:[(0,y.jsx)("option",{value:"",children:"Select Institution Type"}),(0,y.jsx)("option",{value:"higher",children:"Higher Learning Institution"}),(0,y.jsx)("option",{value:"others",children:"Others"})]}),(0,y.jsx)("hr",{})]}),(0,y.jsxs)("div",{className:"d-flex justify-content-around mb-2",children:[O?(0,y.jsx)("span",{className:"spinner-border text-primary"}):(0,y.jsx)(u.Z,{variant:"primary",type:"submit",children:"Submit"}),(0,y.jsx)(u.Z,{variant:"secondary",type:"button",onClick:function(){return v(!1)},children:"Cancel"})]})]})})]})]})},Z=t(4712),N=t(5047),k=function(){(0,i.v9)((function(e){return e.online.online})),(0,i.v9)((function(e){return e.auth.user}));var e=(0,i.v9)((function(e){return e.inst.insts})),n=(0,i.v9)((function(e){return e.cred.creds})),t=(0,i.I0)(),r=(0,h.s0)();return e.map((function(e,a){return(0,y.jsx)("div",{className:"col-6 col-md-4 col-lg-3",onClick:function(){return function(e){var a=n.find((function(n){return parseInt(n.instLinker)===parseInt(e.linker)}));t((0,Z.Pn)(a||{})),t((0,N.SB)(e)),r("/".concat(e.name))}(e)},children:(0,y.jsxs)("div",{className:"dashboard",children:[(0,y.jsx)("div",{className:"d-flex justify-content-center",children:(0,y.jsx)("span",{className:"dash-icon text-capitalize",children:e.name[0]})}),(0,y.jsxs)("p",{className:"text-center dash-text",children:[" ",e.name]})]})},a)}))},w=function(){return(0,y.jsx)("div",{className:"col-12 col-md-12 col-lg-12 jumbotron",style:{marginTop:"25vh"},children:(0,y.jsx)("p",{className:"h4 text-light text-center",style:{fontFamily:"sans-serif"},children:"Seems like you do not have any institutions you can go ahead and register new institution"})})},I=t(7866),O=t(5418),S=t(8920),C=t(8755),H=function(){(0,s.useEffect)((function(){c()}),[]);var e=(0,i.v9)((function(e){return e.inst.insts})),n=(0,i.v9)((function(e){return e.auth.user})),t=(0,i.I0)(),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.vV)(n.token);case 2:if(a=e.sent,200!==parseInt(a.status)){e.next=8;break}return e.next=6,(0,d.AQ)(a.creds.map((function(e){return e.instLinker})),n.token);case 6:s=e.sent,200===parseInt(s.status)&&(t((0,Z.ok)(a.creds)),t((0,N.BK)(s.insts)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)("div",{style:{minHeight:"100vh",minWidth:"100vw",backgroundImage:"url(".concat(C,")"),backgroundSize:"cover",backgroundRepeat:"repeat-y",backgroundPosition:"center"},children:[(0,y.jsx)(S.Z,{}),(0,y.jsxs)("div",{style:{marginTop:"20px",backgroundColor:"rgba(64, 99, 112, 0.5)",minHeight:"100vh",minWidth:"100vw"},children:[" ",(0,y.jsx)("p",{className:"h6 text-primary text-center",style:{textDecoration:"underline",marginTop:"20px"},children:"My Institutions"}),(0,y.jsxs)("div",{className:"row d-flex justify-content-around m-2",children:[(0,y.jsx)("div",{className:"col-6 col-md-4 col-lg-3",children:(0,y.jsx)("div",{className:"dashboard",children:(0,y.jsx)(O.Z,{from:"dash"})})}),(0,y.jsx)(b,{}),e.length>0?(0,y.jsx)(k,{}):(0,y.jsx)(w,{})]})]})]})}}}]);
//# sourceMappingURL=518.02c8dd37.chunk.js.map