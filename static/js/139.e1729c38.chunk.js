"use strict";(self.webpackChunkschooltechsystem=self.webpackChunkschooltechsystem||[]).push([[139],{707:function(e,t,n){n.d(t,{Z:function(){return v}});var s=n(4165),a=n(5861),r=n(9439),c=n(2791),i=n(1620),o=n(2062),l=n.n(o),d=n(7689),u=n(9434),h=(n(4801),n(1413)),m=n(5448),f=function(e,t,n,s){return fetch("".concat(i.l,"/activation/add"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(n)},body:JSON.stringify((0,h.Z)((0,h.Z)({},e),{},{softwareId:t}))}).then((function(e){return e.json()})).then((function(e){201===e.status?(s((0,m.Gk)(e.active)),l()({title:"Success, Activation will be reviewed within 12 hrs",text:"You can come here and check progress",icon:"success"})):403===e.status?l()({title:"Spam noticed",text:"Retry after one month",icon:"error"}):l()({title:"Failed to connect",icon:"warning",timer:3e3})})).catch((function(){l()({title:"Failed to connect",icon:"warning",timer:3e3})}))},x=function(e,t,n,s){fetch("".concat(i.l,"/activation/get"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer ".concat(e)},body:JSON.stringify({online:n,softwareId:t})}).then((function(e){return e.json()})).then((function(e){200===e.status&&s((0,m.OH)(e.actives))})).catch((function(){}))},j=n(184),p=function(e){var t=e.softwareId,n=(0,u.I0)(),i=(0,c.useState)(""),o=(0,r.Z)(i,2),d=o[0],h=o[1],m=(0,c.useState)(""),p=(0,r.Z)(m,2),v=p[0],N=p[1],y=(0,c.useState)(!1),b=(0,r.Z)(y,2),w=b[0],g=b[1],Z=(0,u.v9)((function(e){return e.active.actives}));(0,c.useEffect)((function(){x("",t,0,n)}),[]);var S=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,f({transaction:d},t,"",n);case 3:g(!1),h(""),N("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsxs)("div",{className:"card my-2",children:[Z.length>0?(0,j.jsxs)("table",{className:"table table-sm",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Transaction Code"}),(0,j.jsx)("th",{children:"Status"}),(0,j.jsx)("th",{children:"Activation Code"})]})}),(0,j.jsx)("tbody",{children:Z.map((function(e){return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.transaction}),(0,j.jsx)("td",{children:0!=e.deleted?(0,j.jsx)("span",{className:"text-danger",children:"Deleted"}):0==e.status?(0,j.jsx)("span",{className:"text-info",children:"In Review"}):2==e.status?(0,j.jsx)("span",{className:"text-danger",children:"Rejected"}):1==e.status?(0,j.jsx)("span",{className:"text-danger",children:"Verified"}):""}),(0,j.jsx)("td",{children:0==e.status?"Check Later":e.activation})]},e.linker)}))})]}):null,(0,j.jsxs)("div",{className:"card-header",children:[(0,j.jsxs)("p",{className:"h6 text-primary text-center",children:["Pay Through Paypal To"," ",(0,j.jsx)("em",{className:"btn-link",children:"contact.techsystems@gmail.com"})," and enter the transaction code below."]}),(0,j.jsxs)("p",{className:"text-center",children:["In Case You need help email us at"," ",(0,j.jsx)("em",{className:"btn-link",children:"contact.techsystems@gmail.com"})," or whatsapp ",(0,j.jsx)("em",{className:"btn-link",children:"+254 703535116"})]})]}),(0,j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!=d&&d==v&&l()({title:"Warning!, To avoid spammers we only allow activation code request per institution once in a month.",text:"Please confirm the payment transaction code and then continue ".concat(d),icon:"warning",buttons:!0}).then((function(e){e&&S()})).catch((function(e){return console.log(e)}))},children:[(0,j.jsxs)("div",{className:"card-body",children:[(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:"Transaction Code:"}),(0,j.jsx)("input",{className:"rounded form-control",placeholder:"Enter Transaction Code",value:d,onChange:function(e){return h(e.target.value)},required:!0})]}),(0,j.jsx)("hr",{}),(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsxs)("label",{children:["Confirm Transaction Code:"," ",(0,j.jsx)("small",{className:"text-danger",children:""!=d&&d!=v?"Not Matching":""})]}),(0,j.jsx)("input",{className:"rounded form-control",placeholder:"Confirm Transaction Code",value:v,onChange:function(e){return N(e.target.value)},required:!0})]})]}),(0,j.jsx)("div",{className:"card-footer",children:(0,j.jsx)("div",{className:"d-flex justify-content-around",children:w?(0,j.jsx)("span",{className:"spinner-border text-primary"}):(0,j.jsx)("button",{type:"submit",className:"btn btn-outline-primary rounded",children:"Submit"})})})]})]})},v=function(e){var t=e.softwareId,n=(e.amount,e.from);(0,c.useEffect)((function(){}),[]);var s=(0,c.useState)(!1),a=(0,r.Z)(s,2),i=a[0],o=(a[1],(0,c.useState)("")),l=(0,r.Z)(o,2),h=l[0];l[1],(0,u.v9)((function(e){return e.inst.activeInst})),(0,d.s0)(),(0,u.I0)();return(0,j.jsxs)("div",{children:[i?(0,j.jsxs)("p",{className:"text-center",onClick:function(){},children:[(0,j.jsx)("span",{className:"spinner-border text-primary"})," "]}):""!==h&&"software"===n?(0,j.jsxs)("p",{className:"text-center",children:["Activation Code is ",(0,j.jsx)("strong",{children:h})]}):null,(0,j.jsx)("div",{id:"paypal-buttons-container"}),(0,j.jsx)(p,{softwareId:t})]})}},1139:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var s=n(4165),a=n(5861),r=n(9439),c=n(2791),i=n(3027),o=n(3360),l=n(1620),d=n(2062),u=n.n(d),h=n(707),m=n(248),f=n(184),x=function(e){var t=e.subs,n=e.updatePay,s=e.softwareId;return(0,f.jsxs)("div",{children:[" ",(0,f.jsx)("div",{className:" row d-flex justify-content-center",children:(0,f.jsxs)("div",{className:"col-md-6 ",children:[(0,f.jsx)("h6",{className:"text-center",children:t.length>0?"Get Maintenance And Update Code At 29$ only":"Get Activation Code at 99$ only"}),(0,f.jsx)("p",{className:"text-center",children:(0,f.jsx)("small",{children:(0,f.jsx)("em",{children:t.length>0?"Previous Activation Code if not already used ".concat(t[t.length-1].code):null})})})]})}),(0,f.jsx)("div",{className:"row d-flex justify-content-center",children:(0,f.jsx)("div",{className:"col-md-6 justify-content-center",children:t.length>0?(0,f.jsx)(h.Z,{softwareId:s,amount:"29.0",from:"software"}):(0,f.jsx)(h.Z,{softwareId:s,amount:"99.0",from:"software"})})}),(0,f.jsx)("div",{className:" row d-flex justify-content-center",children:(0,f.jsx)("div",{className:"col-md-6 d-flex justify-content-around",children:(0,f.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return n(!1)},children:[(0,f.jsx)(m.Z,{})," Go Back"]})})})]})},j=n(8920),p=function(){var e=(0,c.useState)(!1),t=(0,r.Z)(e,2),n=t[0],d=t[1],h=(0,c.useState)(""),m=(0,r.Z)(h,2),p=m[0],v=m[1],N=(0,c.useState)(""),y=(0,r.Z)(N,2),b=y[0],w=y[1],g=(0,c.useState)(!1),Z=(0,r.Z)(g,2),S=Z[0],C=Z[1],k=(0,c.useState)(!1),I=(0,r.Z)(k,2),T=I[0],P=I[1],A=(0,c.useState)([]),O=(0,r.Z)(A,2),q=O[0],z=O[1],F=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),p===b){e.next=4;break}return P(!0),e.abrupt("return");case 4:return d(!0),e.next=7,G();case 7:C(!0),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(l.l,"/sub/fetch"),{method:"POST",headers:{"content-type":"application/json",authorization:"bearer "},body:JSON.stringify({softwareId:p.split("").reverse().join("")})}).then((function(e){return e.json()})).then((function(e){200===e.status?z(e.subs):u()({title:"Failed to connect",icon:"warning",timer:3e3})})).catch((function(){u()({title:"Failed to connect",icon:"warning",timer:3e3})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{children:[(0,f.jsx)(j.Z,{}),(0,f.jsx)("div",{className:"row d-flex justify-content-center",style:{marginTop:"40px"},children:(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"card",children:[(0,f.jsx)("div",{className:"card-header",children:(0,f.jsx)("h6",{className:"text-center",children:"Activate School Techsystem Software"})}),(0,f.jsx)("div",{className:"card-body",children:S?(0,f.jsx)(x,{subs:q,updatePay:C,softwareId:p.split("").reverse().join("")}):(0,f.jsxs)(i.Z,{onSubmit:F,children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{className:"mb-2 text-capitalize",children:"Software Id:"}),(0,f.jsx)("input",{className:"rounded form-control",placeholder:"enter software id",value:p,onChange:function(e){return v(e.target.value)},required:!0}),(0,f.jsx)("hr",{})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{className:"mb-2 text-capitalize",children:["Confirm Software Id:",T?(0,f.jsx)("small",{className:"text-danger",children:(0,f.jsx)("em",{children:"Not Matching"})}):null]}),(0,f.jsx)("input",{className:"rounded form-control",placeholder:"confirm software id",value:b,onChange:function(e){return w(e.target.value)},required:!0})]}),(0,f.jsx)("hr",{}),(0,f.jsx)("div",{className:"d-flex justify-content-around mb-2",children:n?(0,f.jsx)("span",{className:"spinner-border text-primary"}):(0,f.jsx)(o.Z,{variant:"primary",type:"submit",children:"Next"})})]})})]})})})]})}}}]);
//# sourceMappingURL=139.e1729c38.chunk.js.map